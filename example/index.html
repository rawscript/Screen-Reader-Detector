<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Screen Reader Detector Example</title>
        <style>
            body {
                  font-family: Arial, sans-serif;
                        max-width: 800px;
                              margin: 50px auto;
                                    padding: 20px;
                                        }
                                            .status {
                                                  padding: 20px;
                                                        margin: 20px 0;
                                                              border-radius: 5px;
                                                                    background: #f0f0f0;
                                                                        }
                                                                            button {
                                                                                  padding: 10px 20px;
                                                                                        font-size: 16px;
                                                                                              cursor: pointer;
                                                                                                  }
                                                                                                    </style>
                                                                                                    </head>
                                                                                                    <body>
                                                                                                      <h1>Screen Reader Detector Example</h1>
                                                                                                        
                                                                                                          <div class="status" id="status">
                                                                                                              Status: Monitoring for screen readers...
                                                                                                                </div>
                                                                                                                  
                                                                                                                    <button id="toggleButton">Toggle Built-in Screen Reader</button>
                                                                                                                      
                                                                                                                        <div style="margin-top: 30px;">
                                                                                                                            <h2>Test Elements</h2>
                                                                                                                                <button aria-label="Test button 1">Button 1</button>
                                                                                                                                    <button aria-label="Test button 2">Button 2</button>
                                                                                                                                        <button aria-label="Test button 3">Button 3</button>
                                                                                                                                            
                                                                                                                                                <div role="navigation" aria-label="Test navigation">
                                                                                                                                                      <a href="#">Link 1</a>
                                                                                                                                                            <a href="#">Link 2</a>
                                                                                                                                                                  <a href="#">Link 3</a>
                                                                                                                                                                      </div>
                                                                                                                                                                        </div>
                                                                                                                                                                          
                                                                                                                                                                            <script src="../dist/screen-reader-detector.js"></script>
                                                                                                                                                                              <script>
                                                                                                                                                                                  // Simulated built-in screen reader
                                                                                                                                                                                      const myScreenReader = {
                                                                                                                                                                                            enabled: true,
                                                                                                                                                                                                  updateStatus() {
                                                                                                                                                                                                          document.getElementById('status').innerHTML = 
                                                                                                                                                                                                                    `Built-in Screen Reader: <strong>${this.enabled ? 'ENABLED' : 'DISABLED'}</strong>`;
                                                                                                                                                                                                                          },
                                                                                                                                                                                                                                disable() {
                                                                                                                                                                                                                                        this.enabled = false;
                                                                                                                                                                                                                                                this.updateStatus();
                                                                                                                                                                                                                                                        console.log('Built-in screen reader disabled');
                                                                                                                                                                                                                                                              },
                                                                                                                                                                                                                                                                    enable() {
                                                                                                                                                                                                                                                                            this.enabled = true;
                                                                                                                                                                                                                                                                                    this.updateStatus();
                                                                                                                                                                                                                                                                                            console.log('Built-in screen reader enabled');
                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                      };
                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                              myScreenReader.updateStatus();
                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                      // Initialize detector
                                                                                                                                                                                                                                                                                                                          const detector = new ScreenReaderDetector({
                                                                                                                                                                                                                                                                                                                                onDetect: () => {
                                                                                                                                                                                                                                                                                                                                        console.log('External screen reader detected!');
                                                                                                                                                                                                                                                                                                                                                document.getElementById('status').innerHTML += '<br>⚠️ External screen reader detected!';
                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                          });
                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                  // Check if user previously disabled it
                                                                                                                                                                                                                                                                                                                                                                      if (detector.isDisabledByUser()) {
                                                                                                                                                                                                                                                                                                                                                                            myScreenReader.disable();
                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                        // Listen for events
                                                                                                                                                                                                                                                                                                                                                                                            window.addEventListener('screenReaderDisabled', () => {
                                                                                                                                                                                                                                                                                                                                                                                                  myScreenReader.disable();
                                                                                                                                                                                                                                                                                                                                                                                                      });
                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                              window.addEventListener('screenReaderEnabled', () => {
                                                                                                                                                                                                                                                                                                                                                                                                                    myScreenReader.enable();
                                                                                                                                                                                                                                                                                                                                                                                                                        });
                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                // Manual toggle
                                                                                                                                                                                                                                                                                                                                                                                                                                    document.getElementById('toggleButton').addEventListener('click', () => {
                                                                                                                                                                                                                                                                                                                                                                                                                                          if (detector.isDisabledByUser()) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                  detector.enableBuiltInScreenReader();
                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                detector.disableBuiltInScreenReader();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                          });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </html>